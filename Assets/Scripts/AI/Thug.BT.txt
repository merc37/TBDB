tree("Root")
	parallel
		repeat mute tree("Live")
		repeat mute tree("DIE")

tree("Live")
	parallel
		repeat
			mute
				tree("FireOnSight")
		repeat
			mute
				fallback
					sequence
						ShouldRoll
						CanRoll
						StopMovement
						Roll
					sequence
						tree("PlayerInSight")
						PlayerInMedAttackRange
						not PlayerRunningAway
						Stop 
					sequence
						tree("PlayerInSight")
						SetMovementTargetToPlayerPosition
						SetLookTargetToMovementDirection
						MoveTowardsMovementTarget
					sequence
						PlayerLastPositionKnown
						SetMovementTargetToPlayerLastKnownPosition
						SetLookTargetToMovementDirection
						fallback
							MoveTowardsMovementTarget
							sequence
								Stop
								UnSetPlayerLastKnownPosition
					sequence
						PlayerLastHeadingKnown
						SetMoveToAngleToPlayerLastKnownHeading
						UnSetPlayerLastKnownHeading
							

tree("FireOnSight")
	sequence
		tree("PlayerInSight")
		PlayerInAttackRange
		not LowOnAmmo
		AimAtPlayer
		Shoot

tree("DIE")
	sequence
		HasZeroHealth
		DestroySelf

tree("PlayerInSight")
	sequence
		PlayerInSight
		SetLookTargetToPlayer
		SetPlayerLastKnownPosition
		SetPlayerLastKnownHeading

tree("Temp")
	sequence
		sequence
			LowOnHealth
			not FoundCover
			SetMovementTargetToCover
			mute
				fallback
					repeat
						sequence
							SetLookTargetToMovementDirection
							MoveTowardsMovementTarget
					sequence
						Stop
						SetCoverFound
		sequence
			Fail
			LowOnAmmo
			random
				Reload
				fallback
					sequence
						SetMovementTargetToCover
						repeat
							MoveTowardsMovementTarget
					Reload
				