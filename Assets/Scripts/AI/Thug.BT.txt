tree("Root")
	parallel
		repeat mute tree("Live")
		repeat mute tree("DIE")

tree("Live")
	parallel
		repeat
			mute
				tree("FireOnSight")
		repeat
			mute
				fallback
					sequence
						ShouldRoll
						CanRoll
						StopMovement
						Roll
					sequence
						LowOnHealth
						SetMovementTargetToCover
						mute
							repeat
								sequence
									SetLookTargetToMovementDirection
									MoveTowardsMovementTarget
					sequence
						LowOnAmmo
						random
							Reload
							fallback
								sequence
									SetMovementTargetToCover
									repeat
										MoveTowardsMovementTarget
								Reload
					sequence
						PlayerInSight
						SetLookTargetToPlayer
						SetMovementTargetToPlayerPosition
						MoveTowardsMovementTarget
					sequence
						PlayerLastPositionKnown
						SetMovementTargetToPlayerLastKnownPosition
						SetLookTargetToMovementDirection
						fallback
							MoveTowardsMovementTarget
							Stop
							UnSetPlayerLastKnownPosition
					StopMovement

tree("FireOnSight")
	sequence
		PlayerInSight
		PlayerInAttackRange
		not LowOnAmmo
		AimAtPlayer
		Shoot

tree("DIE")
	sequence
		HasZeroHealth
		DestroySelf

tree("FindCoverAndReload")
	sequence
		random
			Reload
			sequence
				SetMovementTargetToCover
				//tree("MoveToMovementTarget")
				Reload