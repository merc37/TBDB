tree("Root")
	parallel
		repeat mute tree("Live")
		repeat mute tree("DIE")

tree("Live")
	parallel
		repeat
			mute
				tree("FireOnSight")
		repeat
			mute
				fallback
					sequence
						ShouldRoll
						CanRoll
						StopMovement
						Roll
					sequence
						LowOnHealth
						//not InCover
						SetMovementTargetToCover
						mute
							repeat
								sequence
									SetLookTargetToMovementDirection
									MoveTowardsMovementTarget
					sequence
						Fail
						LowOnAmmo
						random
							Reload
							fallback
								sequence
									SetMovementTargetToCover
									repeat
										MoveTowardsMovementTarget
								Reload
					sequence
						tree("PlayerInSight")
						PlayerInAttackRange
						not PlayerRunningAway
						Stop
					sequence
						tree("PlayerInSight")
						SetMovementTargetToPlayerPosition
						MoveTowardsMovementTarget
					sequence
						PlayerLastPositionKnown
						SetMovementTargetToPlayerLastKnownPosition
						SetLookTargetToMovementDirection
						fallback
							MoveTowardsMovementTarget
							sequence
								Stop
								UnSetPlayerLastKnownPosition
					sequence
						fallback
							sequence
								PlayerLastHeadingKnown
								SetMoveToAngleToPlayerLastKnownHeading
								UnSetPlayerLastKnownHeading
							sequence
								Fail
								SetMoveToAngleRandom
								Wait(5.0)
							

tree("FireOnSight")
	sequence
		tree("PlayerInSight")
		PlayerInAttackRange
		not LowOnAmmo
		AimAtPlayer
		Shoot

tree("DIE")
	sequence
		HasZeroHealth
		DestroySelf

tree("PlayerInSight")
	sequence
		PlayerInSight
		SetLookTargetToPlayer
		SetPlayerLastKnownPosition
		SetPlayerLastKnownHeading